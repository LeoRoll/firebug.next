<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="./codemirror.css">
  <link rel="stylesheet" href="../../chrome/skin/classic/shared/codemirror-firebug.css">

  <script src="./codemirror-compressed.js"></script>
<style type="text/css">
html {
  height: 100%;
}

body {
  width: 100%;
  margin: 0;
  padding: 0;
  background: white;
  overflow: hidden;
  height: 100%;
}

pre {
  margin: 0;
  height: 100%;
  /* For some reasons this declaration is necessary to display the cursor. */
  min-height: 1em;
}
</style>
</head>
<body>
  <pre class="input theme-firebug"></pre>
</body>
<script>
function onEvaluate(editor) {
  sendMessage({
    type: "evaluate",
  });
}

function onEscape(editor) {
  sendMessage({
    type: "escape",
  });
}

// Create and setup the CM editor instance.
this.editor = CodeMirror(document.querySelector(".input"), {
  autofocus: true,
  mode: "javascript",
  readOnly: false,
  lineNumbers: true,
  matchBrackets: true,
  value: "",
  extraKeys: {
    "Cmd-Enter": onEvaluate,
    "Ctrl-Enter": onEvaluate,
    "Esc": onEscape,
  }
});
</script>
</html>
